services:
  wassf__dashy:
    image: lissy93/dashy
    container_name: wassf__dashy
    volumes:
      - ./dashboard/dashy/user-data/conf.yml:/app/user-data/conf.yml
    ports:
      - 8080:8080
    environment:
      - NODE_ENV=production
    restart: unless-stopped
    healthcheck:
      test: ['CMD', 'node', '/app/services/healthcheck']
      interval: 1m30s
      timeout: 10s
      retries: 3
      start_period: 40s
    depends_on:
      - wassf__fastapi
      - wassf__aiogram

  wassf__fastapi:
    build:
      context: ./services/docs/fastapi
    container_name: wassf__fastapi
    ports:
      - 8300:8300

  wassf__aiogram:
    build:
      context: ./services/docs/aiogram
    container_name: wassf__aiogram
    ports:
      - 8989:8989
